import{aC as v,aE as f,aD as m,c as y,a as e,n,aF as i,aB as c,M as g,z as w,Q as x,aG as V,aH as _,aI as b,aM as k,o as C,aJ as N}from"./index-Dp8Pz2BG.js";import{C as B}from"./index-DLzHBeUD.js";import{a as p}from"./_commonjsHelpers-C8L1CcuG.js";const H={class:"body"},S={class:"panel"},I={class:"item"},E={class:"item"},J=v({__name:"login",setup(K){const d=f(),u=k(),t=m(""),o=m(""),r=async()=>{const{data:a}=await V.post(`${_}/api/login`,{name:t.value,password:B.SHA256(o.value).toString()});a.ok?(localStorage.setItem("token",a.msg),b().token=a.msg,d.add({severity:"success",summary:"登录成功",detail:"正在跳转到主页",life:3e3}),u.push("/")):d.add({severity:"error",summary:"登录失败",detail:a.msg,life:3e3})};return(a,s)=>(C(),y("div",H,[e("div",S,[s[5]||(s[5]=e("div",{class:"title"},"登录",-1)),s[6]||(s[6]=e("div",{class:"sub"},"Hi, 欢迎回来👋",-1)),e("div",I,[s[2]||(s[2]=e("div",{className:"label"},"用户名",-1)),n(i(p),{type:"text",modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=l=>t.value=l),style:{width:"100%"}},null,8,["modelValue"])]),e("div",E,[s[3]||(s[3]=e("div",{className:"label"},"密码",-1)),n(i(p),{type:"password",modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=l=>o.value=l),style:{width:"100%"},onKeydown:c(r,["enter"])},null,8,["modelValue"])]),n(i(w),{style:{"margin-top":"30px",width:"100%","margin-bottom":"50px"},onClick:r},{default:g(()=>s[4]||(s[4]=[x("登录")])),_:1})])]))}}),$=N(J,[["__scopeId","data-v-32f04ba8"]]);export{$ as default};
