import{aC as y,aE as f,aD as u,c as w,a as s,n as d,aF as i,aB as g,M as V,z as x,Q as c,aM as b,o as C,aG as N,aH as _,aJ as k}from"./index-r44yAZK1.js";import{C as B}from"./index-rkpMWaru.js";import{a as m}from"./_commonjsHelpers-CXTw9m1P.js";const H={class:"body"},S={class:"panel"},U={class:"item"},E={class:"item"},J={class:"item"},K=y({__name:"register",setup(M){const a=f(),v=b(),r=u(""),t=u(""),o=u(""),p=async()=>{if(r.value.length==0){a.add({severity:"error",summary:"注册失败",detail:"用户名不能为空",life:3e3});return}else if(t.value.length==0){a.add({severity:"error",summary:"注册失败",detail:"密码不能为空",life:3e3});return}else if(o.value.length==0){a.add({severity:"error",summary:"注册失败",detail:"重复密码不能为空",life:3e3});return}else if(t.value!=o.value){a.add({severity:"error",summary:"注册失败",detail:"两次密码输入不一致",life:3e3});return}const{data:n}=await N.post(`${_}/api/register`,{name:r.value,password:B.SHA256(t.value).toString()});n.ok?(a.add({severity:"success",summary:"注册成功",detail:"正在跳转到登录",life:3e3}),v.replace("/login")):a.add({severity:"error",summary:"注册失败",detail:n.msg,life:3e3})};return(n,e)=>(C(),w("div",H,[s("div",S,[e[7]||(e[7]=s("div",{class:"title"},"注册",-1)),e[8]||(e[8]=s("div",{class:"sub"},"Hi, 从这里开始吧👋",-1)),s("div",U,[e[3]||(e[3]=s("div",{className:"label"},"用户名",-1)),d(i(m),{type:"text",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),style:{width:"100%"}},null,8,["modelValue"])]),s("div",E,[e[4]||(e[4]=s("div",{className:"label"},"密码",-1)),d(i(m),{type:"password",modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value=l),style:{width:"100%"}},null,8,["modelValue"])]),s("div",J,[e[5]||(e[5]=s("div",{className:"label"},"重复密码",-1)),d(i(m),{type:"password",modelValue:o.value,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value=l),style:{width:"100%"},onKeydown:g(p,["enter"])},null,8,["modelValue"])]),d(i(x),{style:{"margin-top":"30px",width:"100%","margin-bottom":"50px"},onClick:p},{default:V(()=>e[6]||(e[6]=[c("注册")])),_:1})])]))}}),A=k(K,[["__scopeId","data-v-d6d044a7"]]);export{A as default};
